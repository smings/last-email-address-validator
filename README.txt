=== LEAV Last Email Address Validator ===
Contributors: smings
Donate link: https://paypal.me/DirkTornow
Tags: email address validation, email form, contact form, registration form, form builder, newsletter, user registration, comments, anti spam, spam blocker, MX, DNS
Requires at least: 4.7
Tested up to: 5.5.3
Stable tag: 1.4.9
Requires PHP: 7.2
License: GPLv3
License URI: http://www.gnu.org/licenses/gpl-3.0.html

LEAV provides a comprehensive email address validation, disposable email address blocker, blacklists for role-based recipient names as well as user-defined white and blacklists for recipient names, email addresses and email domains for WP registration, WP comments, WooCommerce, Contact Form 7, WPForms, Ninja Forms, Mailchimp for WordPress (MC4WP), Formidable Forms, Kali Forms and many more to come...

== Description ==

= LEAV - Last Email Address Validator by [smings](https://smings.com/last-email-address-validator) =

We believe that your lifetime is the most precious and protection worthy thing in 
the universe. Protecting it is a critical task. 
LEAV helps you to effectively protect your lifetime against spammers that use 
fake or disposable email adresses for the standard WordPress user registration, WordPress's comments, WooCommerce, Contact Form 7, WPForms (lite and pro), Ninja Forms, Formidable Forms, Kali Forms and more plugins to come. 

LEAV works out of the box without a registration or external APIs. All the action takes place within your control on your own WordPress instance.

There are plenty of bad apples out there and we want to protect you against them.
We built this plugin, because we were frustrated with the lack of true email
validation beyond just superficial syntax checks in all the WordPress functions and plugins we used
ourselves. We always want to make LEAV better. 
We created LEAV with the same feature set as paid services like [quickemailverification.com](https://quickemailverification.com/features) and others. But for free.
If you still miss a plugin or another
way of extra protection, please contact us at [leav@smings.com](mailto:leav@smings.com).

= Integrations =

LEAV is the only free WordPress plugin that provides unlimited email address validations 
and reliable disposable email address protection that seamlessly integrates with almost all of the big WordPress form plugins and WordPress standard functions. LEAV makes sure that email addresses are deliverable and (if activated), are not disposable email addresses (if activated), are not role-based email addresses i.e. info@, sales@, ... (if activated), are not recipient name catch-all email addresses (i.e. my.gmailaddress+something@gmail.com) (if activated), are not from free  . This keeps your user / list data clean and saves you tons of precious time.

Currently "Last Email Address Validator" integrates with:
* WordPress user registration
* [WordPress comments](https://www.wpbeginner.com/glossary/comment/)
* [WooCommerce](https://wordpress.org/plugins/woocommerce/) tested up to 4.5.2 (5,000,000+ installations)
* [Contact Form 7](https://wordpress.org/plugins/contact-form-7/) tested up to 5.3 (5,000,000+ installations)
* [WPForms (lite)](https://wordpress.org/plugins/wpforms-lite/) tested up to 1.6.3.1 (3,000,000+ installations)
* [Ninja Forms](https://wordpress.org/plugins/ninja-forms/) tested up to 3.4.32 (1,000,000+ installations)
* [MailChimp for WordPress MC4WP](https://wordpress.org/plugins/mailchimp-for-wp/) tested up to 4.8.1 (1,000,000+ installations)
* [Formidable Forms](https://wordpress.org/plugins/formidable/) tested up to 4.09.01 (300,000+ Installations)
* [Kali Forms](https://wordpress.org/plugins/kali-forms/) tested up to 2.2.9 (30,000+ installations)

which gives LEAV a current plugin reach of 15,330,000+ WordPress installtions. And these numbers only cover the freely available plugin installtions from the plugin marketplace on WordPress.org/plugins. 

Additionally to the email validation and filter features, LEAV let's you control whether you want to allow pingbacks & trackbacks.
Pingbacks and trackbacks unfortunately don't come with email addresses that could be 
validated
* [WordPress Trackbacks](https://www.wpbeginner.com/beginners-guide/what-why-and-how-tos-of-trackbacks-and-pingbacks-in-wordpress/)
* [WordPress Pingbacks](https://www.wpbeginner.com/beginners-guide/what-why-and-how-tos-of-trackbacks-and-pingbacks-in-wordpress/)

= Roadmap =

We are currently working on integrating the following plugins:

* [Elementor Website Builder](https://wordpress.org/plugins/elementor/) (5,000,000+ installations)
* [OptinMonster API](https://wordpress.org/plugins/optinmonster/) (1,000,000+ installations)
* [Popup Maker](https://wordpress.org/plugins/popup-maker/) (500,000+ installations)
* [Newsletter](https://wordpress.org/plugins/newsletter/) (300,000 installations)
* [Caldera Forms](https://wordpress.org/plugins/caldera-forms/) (200,000+ installations)
* [Popup Builder](https://wordpress.org/plugins/popup-builder/) (200,000+ installations)
* [Gravity Forms](https://www.gravityforms.com/) (number of installations not available)
* [BuddyPress](https://wordpress.org/plugins/buddypress/) (200,000+ installations)
* [Everest Forms](https://wordpress.org/plugins/everest-forms/) (100,000+ installations)
* [MailPoet 2](https://wordpress.org/plugins/wysija-newsletters/) (100,000+ installations)
* [MailPoet 3](https://wordpress.org/plugins/mailpoet/) (100,000+ installations)
* [Form Maker](https://wordpress.org/plugins/form-maker/) (100,000+ installations)
* [MailChimp](https://wordpress.org/plugins/mailchimp/) (100,000+ installations)
* [Ultimate Member](https://wordpress.org/plugins/ultimate-member/) (100,000+ installations)
* [Easy Forms for Mailchimp](https://wordpress.org/plugins/yikes-inc-easy-mailchimp-extender/) (100,000+ installations)
* [Email Subscribers & Newsletters](https://wordpress.org/plugins/email-subscribers/) (100,000+ installations)
* [Free & Simple Contact Form](https://wordpress.org/plugins/pirate-forms/) (100,000+ installations)
* [Hustle](https://wordpress.org/plugins/wordpress-popup/) (90,000 installations)
* [Forminator](https://wordpress.org/plugins/forminator/) (80,000+ installations)
* [Visual Form Builder](https://wordpress.org/plugins/visual-form-builder/) (70,000+ installations)
* [Popups - WordPress Popup](https://wordpress.org/plugins/popups/) (60,000+ installations)
* [Newsletter, SMTP, Email marketing and Subscribe forms](https://wordpress.org/plugins/mailin/) (50,000+ installations)
* [User Registration](https://wordpress.org/plugins/user-registration/) (50,000+ installations)
* [Subscribe2](https://wordpress.org/plugins/subscribe2/) (40,000+ installations)
* [Icegram - Popups, Optins, CTAs & lot more...](https://wordpress.org/plugins/icegram/) (40,000+ installations)
* [Gwolle Guestbook](https://wordpress.org/plugins/gwolle-gb/) (40,000+ installations)
* [Happy Forms](https://wordpress.org/plugins/happyforms/) (30,000+ installations)
* [Contact Form Maker](https://web-dorado.com/products/form-maker-wordpress.html) (30,000+ installations)
* [ConvertKit](https://wordpress.org/plugins/convertkit/) (30,000+ installations)
* [Fluent Forms](https://wordpress.org/plugins/fluentform/) (30,000+ installations)
* [Popup by Supsystic](https://wordpress.org/plugins/popup-by-supsystic/) (30,000+ installations)
* [WP Subscribe](https://wordpress.org/plugins/wp-subscribe/) (30,000+ installations)
* [weForms](https://wordpress.org/plugins/weforms/) (20,000+ installations)
* [WP User Frontend](https://wordpress.org/plugins/wp-user-frontend/) (20,000+ installations)
* [CaptainForm](https://wordpress.org/plugins/captainform/) (20,000+ installations)
* [Clean and Simple Contact Form](https://wordpress.org/plugins/clean-and-simple-contact-form-by-meg-nicholas/) (20,000+ installations)
* [Contact Form by Supsystic](https://wordpress.org/plugins/contact-form-by-supsystic/) (20,000+ installations)
* [Contact Form Email](https://wordpress.org/plugins/contact-form-to-email/) (20,000+ installations)
* [Lead Form Builder](https://wordpress.org/plugins/lead-form-builder/) (20,000+ installations)
* [MailMunch](https://wordpress.org/plugins/mailmunch/) (20,000+ installations)
* [Ultimate Form Builder Lite](https://wordpress.org/plugins/ultimate-form-builder-lite/) (20,000+ installations)
* [WP WooCommerce Mailchimp](https://wordpress.org/plugins/woocommerce-mailchimp/) (20,000+ installations)
* [MC4WP: Mailchimp Top Bar](https://wordpress.org/plugins/mailchimp-top-bar/) (10,000+ installations)
* [Email Before Download](https://wordpress.org/plugins/email-before-download/) (10,000+ installations)

When we finished this list, we'll be able to serve an additional 9,120,000+ WordPress installations. Bringing our total reach up to 24,450,000+ installations, not counting gravity forms (we don't have any reliable data on this plugin's installation count).
Overall we'll probably be able to serve 25+ million WordPress installations.
Please help us spread the word and recommend our plugin to others and leave us an
honest review. It might take some time to set up the validation and filter settings. Please trust us, it is more than worth your while doing so ...

= Features =

LEAV - Last Email Address Validator by [smings](https://smings.com/last-email-address-validator) validates email addresses through a sophisticated multi-step validation process:

* Email address syntax check - checks if the email address is syntactically correct. This syntax check is more thorough than the typical frontend-based (javascript) validation of your forms plugin. It is a solid server-side email syntax check based on regular expressions (always on). By the way - there are top-level domains like ".CANCERRESEARCH" and even longer ones out there. The currently longest top-level domain is 18 characters long and most email syntax checks don't allow this. For a current list of allowed top level domains look at [iana.org](https://data.iana.org/TLD/tlds-alpha-by-domain.txt).

* Block recipient name catch-all email addresses like (i.e. first.last+any-text@gmail.com) (optinal)

* User-defined domain whitelist with wildcard support (optional)

* User-defined email address whitelist (optional)

* User-defined recipient name whitelist with wildcard support (optional)

* User-defined domain blacklist with wildcard support (optional)

* Blocking of disposable email address (DEA) services - if activated checks and filters out DEAs . The list gets frequently updated and blocks the main domains, their underlying mail exchange (MX) server domains as well as the MX server IP addresses. This ensures that you don't get duped by a simple domain alias that routes its MX entries to the same DEA MX servers. (optional)

* Blocking of free email address providers from built-in domain list. This is a feature for those who only want to collect business email addresses. (optional)

* User-defined email address blacklist (optional)

* User-defined recipient name blacklistlist with wildcard support (optional)

* Built-in role-based recipient name blacklistlist with wildcard support (optional)

* DNS MX record check - checks if the domain of the email address is DNS resolvable and has at least one MX server (MX = Mail eXchange) record (always on)

* Simulated sending of an email to one of the MX servers. If this siumulation fails, we know that your WordPress instance could not send an email to the email address. Therefore we reject such email addresses (optional)

* Blocking of catch-all domains (optional)

If an email address passes through all of these tests, we know for sure, that it is a real email address that your WordPress instance can deliver emails to. This will reduce spam significantly. No matter how good LEAV works, we still
encourage you to use additional spam protection by using reCATCHAs (i.e. googles [reCAPTCHA v3](https://developers.google.com/recaptcha/docs/v3) that
is invisible except for a little banner that has to be added (at least on the form pages), honeypots and/or other means to protect your valuable lifetime.

After all - all the above tests just verify the email address's correctness and deliverability, but it doesn't prove that the person in front of the computer entering the email address has access to it. 

This check is part of our LEAV PRO version. LEAV's PRO version verifies that the person entering the email address has access to the email address. By connecting the email address with the person interacting with your WordPress website, you can reduce the amount of SPAM even further. We try to automatically integrate a so-called honeypot feature to all supported plugins and additionally we will add RBL (Real Time Black) checks, to make your contact forms / online forms as safe as possible.

But even after all this, you'll probably be bothered every now and then. But you'll save a ton of your precious lifetime with the above checks provided by LEAV.


## Origins ##
The inspiration for this plugin stems from the plugin [wp-mail-validator](https://wordpress.org/plugins/wp-mail-validator/).
Since this plugin only supported the standard WordPress registration, comments and 
Trackbacks/Pingbacks, we took the code and extended it to work with [Contact Form 7](https://wordpress.org/plugins/contact-form-7/) as well as [WooCommerce](https://wordpress.org/plugins/woocommerce/). The original code was not following best practices and had other shortcomings. So with version 1.3.0 we decided to completely rewrite everything and did a major code refactoring. This allowed us to have a solid foundation for a lot more supported WordPress plugins to come.

If you need "LEAV - Last-Email-Address-Validator" to integrate with a plugin you use, feel free to contact us at [leav@smings.com](mailto:leav@smings.com) for feature requests. Before you do so, please check with our road map to see if it is already listed.

= Installation =

== Installation from within your WordPress installation ==
1. Go to `Plugins` -> Add New`
2. Search for `Last Email Address Validator`
3. Click on the `Install Now` button
4. Click on the `Activate Plugin` button

== Manual installation ==
1. Go to [wordpress.org/plugins/last-email-address-validator/](https://wordpress.org/plugins/last-email-address-validator/)
2. Click on `Download` - this downloads a zip file
3. Extract the zip file. It contains the directory `last-email-address-validator`
3. Upload the extracted plugin directory into the `~/wp-content/plugins` directory of your WordPress installation. Afterwards you should have a directory `~/wp-content/plugins/last-email-address-validator` filled with the contents of the plugin code
4. Go to `Plugins` in your WordPress installation (menu item in the left sidebar)
5. Activate `Last Email Address Validator` plugin in the plugin list
6. For using translations, you can optionally copy the language files from ~/wp-content/plugins/last-email-address-validator/languages/*.mo to ~/wp-content/languages/plugins/

== Configuration ==
You find `Last Email Address Validator`'s settings in your WordPress installation under
`Settings -> Last Email Address Validator`
By default all features are activated and set to the highest level of spam protection. 
You should not need to adjust anything unless you want to deactivate things.
Things should always be as simple as possible, therefore you can usually skip even 
looking at the settings.

= Help us help you =
We are sure that you'll appreciate the extra level of spam protection provided by Last Email Address Validator (LEAV) by smings.
We take great pride in the fact that it is the only plugin to support all major WordPress form plugins out of the box for free. We believe that everyone deserves to get his lifetime SPAM protected. So LEAV isn't limited in the number of validations it does for you. The author, [Dirk Tornow](mailto:dirk@smings.com), has a baby girl and a rascal toddler that need daycare and much more. Therefore we ask you to show him your appreciation by considering a [one-time donation via PayPal](https://paypal.me/DirkTornow) or by becoming a [patreon](https://patreon.com/smings). 
This will help us help you and gives you good karma points! 

= Limitations of the free plugin =
None - there aren't any. LEAV validates as many email addresses as your WordPress instance can handle. It makes sure that all entered email addresses are deliverable and confirm to the rule you set.

For those who need more protection and more validations, we currently develop the pro version of LEAV. The pro version of LEAV validates, that the person entering the email address has actual access and control over the email account. It does this by sending a verification code to the entered email address and provides the user who entered the email address with a verification step before the form data gets send to the underlying plugin. No matter the plugin. LEAV pro supplies the functionality for all supported plugins.
Additionally LEAV pro will do Realtime Blackhole List (RBL) checks to make sure the email address entered is not from known spammer domains. And this will be as affordable as 2 starbucks coffees per year.

== Screenshots ==
1. settings-1.png
2. settings-2.png
3. settings-3.png
4. settings-4.png
5. settings-5.png
6. settings-6.png
7. settings-7.png
8. settings-8.png
9. settings-9.png
10. settings-10.png

== Frequently Asked Questions ==

= How exactly does LEAV validate email addresses? =

LEAV - Last Email Address Validator by [smings](https://smings.com/last-email-address-validator) validates email addresses of the supported WordPress functions and plugins in the following multi-step process:

1. Email Address Syntax Validation (always active)
Checks if the email address is syntactically correct. This acts as a backup check for the plugin's checks. Some plugins only have a frontend based email syntax check. This is a regular expression-based server-side check. We wouldn't even need it, but use it for performance reasons to filter out wrong emails without further checking

2. Recipient Name Catch-All Syntax (optional)
Controls if you want to filter out email addresses with a recipient name catch-all syntax. For more information what a recipient name catch-all syntax is, please check our FAQ entry below.

3. Domain Whitelist (optional)
Filters against the user-defined email domain whitelist (if activated).
Use this whitelist to override potential false positives from extensive (wildcard) domain blacklist rules. Whenever an email address gets matches by this whitelist, the domain blacklist check gets skipped.
We kindly ask you to inform us at leav@smings.com about wrongfully blacklisted domains, so that we can correct any errors asap.

4. Email Address Whitelist (optional)
Filters against the user-defined email whitelist (if activated).
If you need to override specific email addresses that would otherwise get filtered out by the blacklist filters.

5. Recipient Name Whitelist (optional)
Filters against the user-defined recipient name whitelist (if activated)
If you need to override specific recipient names that would otherwise get filtered out by either the user-defined recipient name blacklist or the role-based recipient name blacklist. If a recipient name gets matched by this whitelist, both recipient name blacklist checks get skipped.

6. Domain Blacklist (optional)
Filters against the user-defined email domain blacklist (if activated).

7. Free Email Address Provider Domain Blacklist (optional)
Filters against the built-in free email address provider domain blacklist (if activated). This list gets updated with new plugin releases. Our list allows the use of wildcards and is fine-tuned to filter out thousands of free email providers.

8. Email Address Blacklist (optional)
Filters against the user-defined email address blacklist (if activated).

9. Recipient Name Blacklist (optional)
Filters against the user-defined recipient name blacklist (if activated).

10. Role-Based Recipient Name Blacklist (optional)
Filters against the built-in role-based recipient name blacklist (if activated).

11. DNS MX Server Lookup (always active)
Check if the email address's domain has a DNS entry with MX records.

12. Disposable Email Address (DEA) Service Blacklist (optional)
Filters against the built-in extensive blacklist of disposable email services (if activated). This list gets updated with new plugin releases. If activated email adresses from disposable email address services (DEA) i.e. mailinator.com, maildrop.cc, guerrillamail.com and many more will be rejected. LEAV manages a comprehensive list of DEA services that is frequently updated. We block the underlying MX server domains and IP addresses - not just the website domains. This bulletproofs the validation against domain aliases and makes it extremely reliable, since it attacks DEAs at their core. 

13. Simulate Email Sending (optional)
Connects to one of the MX servers and simulates the sending of an email from no-reply@your-domain.com to the entered email address. No actual email will be sent out. This is just LEAV asking the receiving server, if it would accept the email address. Then the dialog with the MX server gets terminated without any email being sent. It's essentially like looking at a house's mailboxes and checking if there is a mailbox with a specific name on it and if we can open it and see if the letter would fit in without dropping it into the mailbox.

14. Reject Email Addresses from Catch-All Domains (optional)
Optionally filters out all email addresses that originate from domains that accept emails for ANY recipient name. These are domains that allow arbritary recipient names like dtras657td8giuy23gtf7e3628@catch-all-domain.com.
For whom might this be important? I.e. if you have a website with a free trial, you might want to make it a bit harder for leechers to get an unlimited amount of free accounts. Of course users with their own domains can create an unlimited amount of email accounts, but by not allowing catch-all domains, it makes it harder for them. Disclaimer: There is generally nothing wrong about catch-all domains. You'll have to decide for yourself, whether this is important for you or not. Just so you know: even gmail.com allows any recipient name. If this option is used, you should also reject email addresses from free email address providers. And it might still hamper with what you want to achieve. This is just an option for rare cases.

= Can I use wildcards for the whitelists/blacklists? =

Yes you can. We have a complete documentation on how to use it along with many
built-in examples in our provided blacklists for role-based recipient names and
free email address provider domain list.


== Changelog ==

= 1.4.9 =
* Optimized translatability and security of the plugin

= 1.4.8 =
* Added wildcard support for domains and recipient names in white/blacklists
* Updated German translation
* Excluded internal test validations from global block count

= 1.4.7 =
* Added catch-all domain filter feature
* Added user-defined recipient name white/blacklists

= 1.4.6 =
* Added email test field in the settings
* Added role-based recipient name blacklist

= 1.4.5 =
* Added user-defined recipient name blacklist
* Added option for blocking recipient name catch-all syntax

= 1.4.4 =
* Added Support for Kali Forms

= 1.4.3 =
* Added Support for Formidable Forms
* Added control over menu locations
* Refactoring of translation strings

= 1.4.2 =
* Added support for Mailchimp for WordPress (MC4WP)
* Added custom validation error messages for easy customization / translation

= 1.4.1 =
* Finalized class refactoring
* Versioned / auto-updated dea provider lists
* Added settings for configurable validation messages
* Added settings for configurable email field names for Ninja Forms
* Updated German translation

= 1.4.0 =
* Continued refactoring and major upgrade of sanitization and validation of settings form data
* Centralized static variables
* Added uninstall.php (extra file for easier readability)
* Updated Screenshots

= 1.3.0 =
* Added support for Ninja Forms
* Complete refactoring of the code for better readability and easier extending

= 1.2.0 =
* Added support for WPForms

= 1.1.5 =
* Fixed minor validation bugs

= 1.1.4 =
* optimized descriptions and German translations
* added screenshots

= 1.1.3 =
* Completed German translation
* Optimized settings

= 1.1.0 =
* added woocommerce support

= 1.0.0 =
* added Contact Form 7 support
* Initial German translations

== Upgrade Notice ==

= 1.2.0 =
* Added support for WPForms

= 1.1 =
* Added woocommerce support

= 1.0 =
* Initial Version with support for contact form 7

